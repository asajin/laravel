# Set up notification options
notifications: 
  email:
    recipients:
      - lukacsbarni@gmail.com
      - blukacs@pentalog.fr

    # change is when the repo status goes from pass to fail or vice versa
    on_success: change
    on_failure: always
	
# specify language
language: php

php:
  - 5.3
  - 5.4
  - 5.5
  - 5.6
  - 7.0
  - hhvm

# configure which branches to run
branches:
  # whitelist
  only:
    - master
    - /^deploy-.*$/ # regex ok
  # blacklist
  except:
    - dontrunme 
    - test  

## begin build steps
####################
before_script:
  - cp ./.env.example ./.env
  #create environment file
  - curl -s http://getcomposer.org/installer | php
  #Install latest composer
  - php composer.phar install
  #Install project
  - php artisan key:generate 
  generate Application key
  - mvn -version
  
#Unit testing  
script: phpunit

